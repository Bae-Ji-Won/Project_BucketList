<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  
  <head>

    <!-- SITE TITTLE -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BucketList</title>

    <!-- Plugins css Style -->
    <link href='/assets/plugins/fontawesome-5.15.2/css/all.min.css' rel='stylesheet'>
    <link href='/assets/plugins/fontawesome-5.15.2/css/fontawesome.min.css' rel='stylesheet'>
    <link href="/assets/plugins/animate/animate.css" rel="stylesheet">
    <link href="/assets/plugins/menuzord/css/menuzord.css" rel="stylesheet">
    <link href="/assets/plugins/menuzord/css/menuzord-animations.css" rel="stylesheet">

    <link href='/assets/plugins/isotope/isotope.min.css' rel='stylesheet'>
    <link href='/assets/plugins/fancybox/jquery.fancybox.min.css' rel='stylesheet'>
    
    <link href='/assets/plugins/selectric/selectric.css' rel='stylesheet'>
    <link href='/assets/plugins/daterangepicker/css/daterangepicker.css' rel='stylesheet'>
    
    <link href='/assets/plugins/dzsparallaxer/dzsparallaxer.css' rel='stylesheet'>

    <link href='/assets/plugins/revolution/css/settings.css' rel='stylesheet'>

    <!-- GOOGLE FONT -->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700' rel='stylesheet'>

    <!-- CUSTOM CSS -->
    <link href="/assets/css/star.css" id="option_style" rel="stylesheet">
    <link href="/assets/css/custom.css" id="custom_style" rel="stylesheet">


    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png"/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <script>
    let check = false;
    function showSearch() {
      let search = document.getElementById("search-wrapper");
      if(!check) {
        search.style.display="block";
        check = true;
      } else {
        search.style.display="none";
        check = false;
      }
    }
  </script>

<body id="body" class="up-scroll">
  
  <!-- Preloader -->
  <div id="preloader" class="smooth-loader-wrapper">
    <div class="smooth-loader">
      <div class="sk-circle">
        <div class="sk-circle1 sk-child"></div>
        <div class="sk-circle2 sk-child"></div>
        <div class="sk-circle3 sk-child"></div>
        <div class="sk-circle4 sk-child"></div>
        <div class="sk-circle5 sk-child"></div>
        <div class="sk-circle6 sk-child"></div>
        <div class="sk-circle7 sk-child"></div>
        <div class="sk-circle8 sk-child"></div>
        <div class="sk-circle9 sk-child"></div>
        <div class="sk-circle10 sk-child"></div>
        <div class="sk-circle11 sk-child"></div>
        <div class="sk-circle12 sk-child"></div>
      </div>
    </div>
  </div>

  <!-- ====================================
  ——— HEADER
  ===================================== -->
  <header class="header" id="pageTop">    

    <!-- Menu Zord -->
    <nav class="nav-menuzord nav-menuzord-transparent navbar-sticky bg-dark-light">
      <div class="container clearfix">
        <div id="menuzord" class="menuzord">
          <a href="" class="menuzord-logo-brand"></a>

          <div class="nav-item dropdown nav-item-left me-0">
            <button class="btn btn-xs btn-primary d-none d-lg-inline-block notify-toggler" onclick="showSearch()">
              <i class="fa fa-search text-white me-0" aria-hidden="true"></i>
            </button>
          </div>
          
          <ul class="menuzord-menu menuzord-right">
            <li class="">
              <a class="" href="javascript:void(0)">멤버십</a>
            </li>

            <li class="">
              <a class="" href="/post">버킷리스트</a>
              <ul class="dropdown drop-up">
                <li class=" active ">
                  <a href="index.html">Travel</a>
                </li>

                <li class="">
                  <a href="/post/sports">Extreme</a>
                </li>

                <li class="">
                  <a href="index-3.html">Study</a>
                </li>

                <li class="">
                  <a href="index-3.html">Volunteer</a>
                </li>

                <li class="">
                  <a href="index-3.html">Experience</a>
                </li>

                <li class="">
                  <a href="index-3.html">Etc</a>
                </li>
              </ul>
            </li>

            <li class="">
              <a class="" href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#login">로그인</a>
            </li>

            <li class="">
              <a class="" href="javascript:void(0)" th:value="${member}">유저명</a>
              <ul class="dropdown drop-up">
                <li class=" active ">
                  <a href="/createform">버킷리스트 작성</a>
                </li>

                <li class="">
                  <a href="/post/sports">좋아요</a>
                </li>

                <li class="">
                  <a href="index-3.html">마이 피드</a>
                </li>

                <li class="">
                  <a href="index-3.html">마이페이지</a>
                </li>

                <li class="">
                  <a href="/logout">로그아웃</a>
                </li>
              </ul>
            </li>

          </ul>
        </div>
      </div>
    </nav>
  </header>
  <div class="main-wrapper home-main">

<!-- ====================================
———	SEARCH SECTION
===================================== -->
<div class="bg-dark-light py-7"></div>
<section class="bg-dark-light py-search" id="search-wrapper" style="display: none">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-xl-3">
        <div class="section-title-bg mb-1 mb-lg-3 mb-xl-0">
          <h1 class="text-white text-uppercase mb-0">Search</h1>
          <h2 class="text-white text-uppercase font-weight-bold mb-0"><span class="text-primary">bucketlist</span></h2>
        </div>
      </div>
    
      <div class="col-xl-9">
        <form class="" action="index.html" method="GET">
          <div class="row">
            <div class="col-lg-10">
              <div class="row">
                <div class="col-md-6 col-lg-3">
                  <div class="select-dropdown">
                    <div class="mb-3 mb-lg-0">
                      <div class="select-default select-search-box">
                        <select class="select-option">
                          <option>Category</option>
                          <option>Travel</option>
                          <option>Extreme</option>
                          <option>Study</option>
                          <option>Volunteer</option>
                          <option>Experience</option>
                          <option>Etc</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
    
                <div class="col-md-6 col-lg-3">
                  <div class="mb-3 form-group-icon mb-lg-0">
                    <i class="far fa-calendar-alt" aria-hidden="true"></i>
                    <input type="text" class="form-control daterange-picker" autocomplete="off" name="dateRange" value=""
                      placeholder="MM/DD/YYYY" />
                  </div>
                </div>
    
                <div class="col-md-6 col-lg-3">
                  <div class="mb-3 form-group-icon mb-lg-0">
                    <i class="far fa-calendar-alt" aria-hidden="true"></i>
                    <input type="text" class="form-control daterange-picker" autocomplete="off" name="dateRange" value=""
                      placeholder="MM/DD/YYYY" />
                  </div>
                </div>
    
                <div class="col-md-6 col-lg-3">
                  <div class="select-dropdown">
                    <div class="mb-3 mb-lg-0">
                      <div class="select-default select-search-box">
                        <select class="select-option">
                          <option>$1000 - $1200</option>
                          <option>$1200 - $1400</option>
                          <option>$1400 - $1600</option>
                          <option>$1600 - $1800</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
    
            <div class="col-lg-2">
              <button class="btn btn-primary text-uppercase" type="button" onclick="location.href='javascript:void(0)';">
                Search
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- ====================================
———	CATEGORY SECTION
===================================== -->
<section class="py-8">
  <div class="container">
    <div class="text-center section-title">
      <h2 class="text-uppercase font-weight-bold position-relative">
        <span class="bg-white">
          CATEGORY
        </span>
      </h2>
    </div>

    <div class="row grid">
      <div class="col-md-6 col-lg-4 element-item america">
        <div class="media media-hoverable justify-content-center mb-2 mb-md-4 mb-lg-6">
          <a href="single-package-fullwidth.html" class="media-content">
            <img class="media-img lazyestload" data-src="/assets/img/home/packages/packages-1.jpg" src="/assets/img/home/packages/packages-1.jpg" alt="Generic placeholder image">
            <div class="media-object">
              <h3 class="text-uppercase mb-0">Travel</h3>
            </div>
            <div class="media-img-overlay">
            </div>
          </a>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-4 element-item africa">
        <div class="media media-hoverable justify-content-center mb-2 mb-md-4 mb-lg-6">
          <a href="single-package-fullwidth.html" class="media-content">
            <img class="media-img lazyestload" data-src="/assets/img/home/packages/packages-2.jpg" src="/assets/img/home/packages/packages-2.jpg" alt="Generic placeholder image">
            <div class="media-object">
              <h3 class="text-uppercase mb-0">Extreme</h3>
            </div>
            <div class="media-img-overlay">
            </div>
          </a>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 element-item asia america">
        <div class="media media-hoverable justify-content-center mb-2 mb-md-4 mb-lg-6">
          <a href="single-package-fullwidth.html" class="media-content">
            <img class="media-img lazyestload" data-src="/assets/img/home/packages/packages-3.jpg" src="/assets/img/home/packages/packages-3.jpg" alt="Generic placeholder image">
            <div class="media-object">
              <h3 class="text-uppercase mb-0">Study</h3>
            </div>
            <div class="media-img-overlay">
            </div>
          </a>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 element-item asia africa">
        <div class="media media-hoverable justify-content-center mb-2 mb-md-4 mb-lg-0">
          <a href="single-package-fullwidth.html" class="media-content">
            <img class="media-img lazyestload" data-src="/assets/img/home/packages/packages-4.jpg" src="/assets/img/home/packages/packages-4.jpg" alt="Generic placeholder image">
            <div class="media-object">
              <h3 class="text-uppercase mb-0">Volunteer</h3>
            </div>
            <div class="media-img-overlay">
            </div>
          </a>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 element-item america">
        <div class="media media-hoverable justify-content-center mb-2 mb-md-0">
          <a href="single-package-fullwidth.html" class="media-content">
            <img class="media-img lazyestload" data-src="/assets/img/home/packages/packages-5.jpg" src="/assets/img/home/packages/packages-5.jpg" alt="Generic placeholder image">
            <div class="media-object">
              <h3 class="text-uppercase mb-0">Experience</h3>
            </div>
            <div class="media-img-overlay">
            </div>
          </a>
        </div>
      </div>

      <div class="col-md-6 col-lg-4 element-item asia africa">
        <div class="media media-hoverable justify-content-center">
          <a href="single-package-fullwidth.html" class="media-content">
            <img class="media-img lazyestload" data-src="/assets/img/home/packages/packages-6.jpg" src="/assets/img/home/packages/packages-6.jpg" alt="Generic placeholder image">
            <div class="media-object">
              <h3 class="text-uppercase mb-0">Etc</h3>
            </div>
            <div class="media-img-overlay">
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>



  </div><!-- element wrapper ends -->

  <!-- ====================================
  ——— FOOTER SECTION
  ===================================== -->
  <footer class="footer">
    <div class="footer-bg-color py-9">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-lg-3 mb-5 mb-lg-0 mx-5">
            <a class="d-inline-block" href="index.html">
              <img class="w-100 mb-6 lazyestload" data-src="/assets/img/logo-color-sm.png"
                   src="/assets/img/logo-color-sm.png" alt="img">
            </a>
            <p class="mb-0">멋쟁이 사자처럼 백엔드 스쿨 2기에서 진행한 팀프로젝트입니다.
              버킷리스트를 주제로 비슷한 목표를 가진 사람들이 모여 값진 경험을 할 수 있는 사이트를 구현했습니다.
              글을 작성하여 사람을 모집할 수 있으며 버킷리스트 개설자는 참가 신청한 참가자를 허가/거부할 수 있습니다.
              모집이 완료되면 채팅이 활성화되고 일정을 마친 후에 참가자는 버킷리스트와 호스트에 대해서 평가할 수 있습니다.
            </p>
          </div>

          <!--각자 깃랩 링크 걸건지?-->
          <div class="col-md-6 col-lg-3 mt-md-4 mb-5 mb-lg-0 mx-7">
            <div class="title-tag">
              <h6>Team9 : WEB (WE are Best)</h6>
            </div>
            <ul class="list-unstyled mb-0">
              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-user"></i>
                </div>
                <div class="media-body">
                  <a href="#" target="_blank">PM : 최수정</a>
                </div>
              </li>
              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-user"></i>
                </div>
                <div class="media-body">
                  <a href="#" target="_blank">CTO : 정재현</a>
                </div>
              </li>

              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-user"></i>
                </div>
                <div class="media-body">
                  <a href="#" target="_blank">개발 : 고관운</a>
                </div>
              </li>

              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-user"></i>
                </div>
                <div class="media-body">
                  <a href="#" target="_blank">개발 : 박은빈</a>
                </div>
              </li>

              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-user"></i>
                </div>
                <div class="media-body">
                  <a href="#" target="_blank">개발 : 배지원</a>
                </div>
              </li>

              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-user"></i>
                </div>
                <div class="media-body">
                  <a href="#" target="_blank">개발 : 변지환</a>
                </div>
              </li>
            </ul>
          </div>

          <div class="col-md-6 col-lg-3 mt-md-4 mb-5 mb-lg-0 mx-5">
            <div class="title-tag">
              <h6>Contact us</h6>
            </div>
            <ul class="list-unstyled mb-0">
              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-brands fa-gitlab"></i>
                </div>
                <div class="media-body">
                  <a href="https://gitlab.com/S2uJeong1/bucketlist" target="_blank">team project
                    gitlab</a>
                </div>
              </li>

              <li class="media mb-2">
                <div class="me-3">
                  <i class="fa-regular fa-file"></i>
                </div>
                <div class="media-body">
                  <a href="https://ringed-suggestion-46f.notion.site/ceff928e9f1f4e2482f07387b997f593"
                     target="_blank">team project notion</a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="copyright py-6">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6 order-1 order-md-0">
            <p class="mb-0 mb-md-0 text-md-start">Copyright &copy; <span id="copy-year"></span> All Rights
              Reserved by
              <a href="http://www.iamabdus.com/" target="_blank">Abdus</a>
            </p>
          </div>
        </div>
      </div>
    </div>

  
    <!-- ====================================
    ——— MODAL SECTION
    ===================================== -->
    <!-- Signup Modal -->
    <div class="modal fade" id="signup" tabindex="-1" role="dialog" aria-label="signupModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header rounded">
            <h3 class="modal-title text-uppercase font-weight-bold">회원가입</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body">
            <form class="" action="index.html" method="post">
              <div class="mb-3">
                <div class="mb-3" style="display: flex">
                  <input type="id" class="form-control bg-smoke" required="" placeholder="아이디">
                  <button class="btn btn-facebook btn-block text-uppercase text-white" type="submit" style="width: 25%; padding: 0">중복확인</button>
                </div>
              </div>

              <div class="mb-3">
                <input type="password" class="form-control bg-smoke" required="" placeholder="비밀번호">
                <input type="password" class="form-control bg-smoke" required="" placeholder="비밀번호 확인">
              </div>

              <div class="mb-3" style="display: flex">
                <input style="flex: 1;" type="year" class="form-control bg-smoke" required="" placeholder="년(4자)">
                <input style="flex: 1;" type="month1" class="form-control bg-smoke" required="" placeholder="월">
                <input style="flex: 1;" type="day" class="form-control bg-smoke" required="" placeholder="일">
              </div>

              <div class="mb-3">
                <div style="display: flex">
                  <input style="flex: auto;" type="email" class="form-control bg-smoke" required="" placeholder="이메일">
                  <button class="btn btn-facebook btn-block text-uppercase text-white" type="submit" style="width: 25%; padding: 0">인증요청</button>
                </div>
                <input type="emailCheck" class="form-control bg-smoke" required="" placeholder="인증번호">
              </div>
    
              <div class="mb-3 form-check mb-0">
                <input type="checkbox" class="form-check-input" id="exampleCheck4">
                <label class="form-check-label text-gray-color mb-3" for="exampleCheck4">
                  I agree to the terms of use and privacy.
                </label>
              </div>

              <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-block text-uppercase">가입하기</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="login" tabindex="-1" role="dialog" aria-label="loginModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header rounded">
            <h3 class="modal-title text-uppercase font-weight-bold">로그인</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body">
            <form class="" th:action="@{/login}" method="post">
              <div class="mb-3">
                <input id="email" type="email" class="form-control bg-smoke" name="email" required="" placeholder="이메일">
              </div>

              <div class="mb-3">
                <input id="password" type="password" class="form-control bg-smoke" name="password" required="" placeholder="비밀번호">
              </div>

              <div class="mb-3 form-check mb-0">
                <input type="checkbox" class="form-check-input" id="exampleCheck5">
                <label class="form-check-label text-gray-color mb-3" for="exampleCheck5">
                  Remember me
                </label>
                <a class="pull-right" href="javascript:void(0)">Forgot Password?</a>
             </div>

             <div class="d-grid">
              <button class="btn btn-primary text-uppercase" onclick="login(); return false;">Login</button>
             </div>
              <button onclick="req(); return false;">GET</button>
              <div class="text-uppercase text-center py-3">Or</div>

              <div style="display: flex;">
                <div style="flex: 1;">
                  <a href="/login/google"><img src="/assets/img/google-button.png" style="width: 95%; margin-left: 5%"></a>
                </div>
                <div style="flex: 1;">
                  <a href="/login/naver"><img src="/assets/img/naver-button.png" style="width: 85%; float: right; margin-right: 10%"></a>
                </div>
               </div>
            </form>
          </div>

          <div class="modal-footer justify-content-center">
            <p class="mb-1">Don’t have an Account? <a href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#signup">Sign up</a></p>
          </div>
        </div>
      </div>
    </div>

    <!-- INQUIRY IN MODAL -->
    <div class="modal fade" id="inquiry" tabindex="-1" role="dialog" aria-label="inquiryModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header rounded">
            <h3 class="modal-title text-uppercase font-weight-bold">Inquiry about tour</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body pb-3">
            <form class="" action="index.html" method="post">
              <div class="mb-3">
                <input type="text" class="form-control bg-smoke" required="" placeholder="Your Name">
              </div>

              <div class="mb-3">
                <input type="email" class="form-control bg-smoke" required="" placeholder="Your Email">
              </div>
    
              <div class="mb-3">
                <input type="number" class="form-control bg-smoke" required="" placeholder="Phone Number">
              </div>

              <div class="mb-3">
                <textarea class="form-control bg-smoke" rows="6" placeholder="Message"></textarea>
              </div>
    
              <button type="submit" class="btn btn-primary text-uppercase">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Javascript -->
    <script src="/assets/plugins/jquery/jquery-3.4.1.min.js"></script>
    <script src="/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/plugins/menuzord/js/menuzord.js"></script>
    
    <script src='/assets/plugins/isotope/isotope.min.js'></script>
    <script src='/assets/plugins/images-loaded/js/imagesloaded.pkgd.min.js'></script>
    <script src='/assets/plugins/fancybox/jquery.fancybox.min.js'></script>
    
    <script src='/assets/plugins/selectric/jquery.selectric.min.js'></script>
    <script src='/assets/plugins/daterangepicker/js/moment.min.js'></script>
    <script src='/assets/plugins/daterangepicker/js/daterangepicker.min.js'></script>
    
    <script src="/assets/plugins/lazyestload/lazyestload.js"></script>
    <script src='/assets/plugins/dzsparallaxer/dzsparallaxer.js'></script>


    
    
    
    <script src='/assets/plugins/revolution/js/jquery.themepunch.tools.min.js'></script>
    <script src='/assets/plugins/revolution/js/jquery.themepunch.revolution.min.js'></script>
    <script src="/assets/plugins/smoothscroll/SmoothScroll.js"></script>
    
    <script src="/assets/js/star.js"></script>

    <script src="/assets/js/custom.js"></script>

  </body>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>

    function req() {
      axios.get('/click')
              .then((res) => {
                console.log(res.data);
              })
              .catch((err) => {
                console.log(err);
              })
    }

    function login() {

      let email = document.getElementById('email').value;
      let pw = document.getElementById('password').value;

      return fetch('/login', {
        method: "POST",
        headers: {
          "Content-Type" : "application/json",
          "Accept": "application/json"
        },
        body: JSON.stringify({
          email: email,
          password: pw,
        })
      })
              .then(response => {
                return response.json();
              })
              .then(json => {
                localStorage.setItem("accessToken", json.result.accessToken);
                window.location.reload();
              })
              .catch(err => {
                console.log(err);
              })
    }

    axios.interceptors.request.use(function(config) {
      const accessToken = localStorage.getItem('accessToken');
      if(accessToken) {
        config.headers.Authorization = 'Bearer' + ' ' + accessToken
      }
      return config;
    })

    axios.interceptors.response.use(
            success => success,
            async(error) => {
              console.log(error);
              const status = error.response.status

              if(status === 401) {
                const originRequest = error.config

                await axios.post('/login/reissue')
                        .then(response => {
                          console.log(response.data);
                          localStorage.setItem("accessToken", response.data);
                        })
                        .catch(error => {
                          console.log('fail');
                          localStorage.removeItem('accessToken')
                        })
                return Promise.reject(error)
              }
            }
    )
  </script>
</html>

