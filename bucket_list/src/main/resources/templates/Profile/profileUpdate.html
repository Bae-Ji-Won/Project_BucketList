<!DOCTYPE html>
<html lang="ko">

<head>

    <!-- SITE TITTLE -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BucketList</title>

    <!-- Plugins css Style -->
    <link href='/assets/plugins/fontawesome-5.15.2/css/all.min.css' rel='stylesheet'>
    <link href='/assets/plugins/fontawesome-5.15.2/css/fontawesome.min.css' rel='stylesheet'>
    <link href="/assets/plugins/animate/animate.css" rel="stylesheet">
    <link href="/assets/plugins/menuzord/css/menuzord.css" rel="stylesheet">
    <link href="/assets/plugins/menuzord/css/menuzord-animations.css" rel="stylesheet">

    <link href='/assets/plugins/isotope/isotope.min.css' rel='stylesheet'>
    <link href='/assets/plugins/fancybox/jquery.fancybox.min.css' rel='stylesheet'>

    <link href='/assets/plugins/selectric/selectric.css' rel='stylesheet'>
    <link href='/assets/plugins/daterangepicker/css/daterangepicker.css' rel='stylesheet'>

    <link href='/assets/plugins/dzsparallaxer/dzsparallaxer.css' rel='stylesheet'>

    <link href='/assets/plugins/revolution/css/settings.css' rel='stylesheet'>

    <!-- GOOGLE FONT -->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700' rel='stylesheet'>

    <!-- CUSTOM CSS -->
    <link href="/assets/css/star.css" id="option_style" rel="stylesheet">
    <link href="/assets/css/custom.css" id="custom_style" rel="stylesheet">

    <!-- alarm -->
    <link href="/css/alarm.css" rel="stylesheet">


    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png"/>

    <!-- axios, jquery 사용-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>

<style>
    #user-name-li {
        display: none;
    }
</style>

<!-- 돋보기 클릭하면 보이기랑 안보이기 -->
<script>
    let check = false;

    function showSearch() {
        let search = document.getElementById("search-wrapper");
        if (!check) {
            search.style.display = "block";
            check = true;
        } else {
            search.style.display = "none";
            check = false;
        }
    }
</script>

<script>
    // window.onload : 윈도우가 실행되면 무조건 진행(?)되는 부분
    // const : bock단위의 상수
    window.onload = function () {
        // "accessToken"으로 부터 값 가져오기
        const accessToken = localStorage.getItem("accessToken");

        if (accessToken === null) {
            $("#login-li").show();
            $("#user-name-li").hide();
        } else {
            $("#login-li").hide();
            $("#user-name-li").show();

            // paylosd는 디코딩 가능한 부분 + username이랑 또 머드라.. 그걸 재현 님이 넣어두심
            // .을 기준으로 split해서 배열에 담고 1번째 배열의 값을 payload에 대입
            const payload = accessToken.split('.')[1];
            // let: 지역변수
            // JSON.parse는 json형태로 변환(?)
            // atob() 괄호 안의 내용을 디코딩
            // 디코딩된 내용에서 userName을 가져오겠다!
            // {'memberId':1, 'userName':2}
            let userName = JSON.parse(atob(payload)).userName;
            document.getElementById("userName").innerText = userName;
        }

    };
</script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- ?? -->
<script>
    function click() {
        axios.get('/click')
            .then((res) => {
            })
            .catch((err) => {
            })
    }

    function login() {
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;

        return fetch('/api/v1/login', {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Accept": "appliction/json"
                },
                body: JSON.stringify({
                    email: email,
                    password: password
                })
            }
        )
            .then(response => {
                response.json();
            })
            .then(json => {
                localStorage.setItem("accessToken", json.result.accessToken);
            })
            .catch(error => {
            })
    }

    function logout() {
        localStorage.clear()
        window.location.href = "/"; // 첫 화면으로 이동
    }
</script>


<body id="body" class="up-scroll">

<!-- ====================================
——— HEADER
===================================== -->
<header class="header" id="pageTop">
    <!-- Menu Zord -->
    <nav class="nav-menuzord navbar-sticky">
        <div class="container clearfix">
            <div id="menuzord" class="menuzord">
                <a href="/" class="menuzord-logo-brand"></a>

                <ul class="menuzord-menu menuzord-right">
                    <li class="alarm-btn-box-li">
                        <button class="alarm-btn-box" type="button" data-bs-toggle="dropdown" aria-expanded="false" onclick="getAlarmList()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#262a2e" class="bi bi-bell-fill alarm-btn" viewBox="0 0 16 16">
                                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                            </svg>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end alarm-box shadow">
                            <div class="d-flex justify-content-end alarm-read-all-box">
                                <button class="alarm-read-all-btn opacity-50" onclick="readAllAlarm()">모두 읽기</button>
                            </div>
                            <div class="list-group list-group-flush" id="alarm-list">

                            </div>
                        </div>
                    </li>
                    <li class="chat-room-box-li">
                        <a class="" href="/chat/room">채팅방</a>
                    </li>

                    <li class="">
                        <a class="" href="javascript:void(0)">버킷리스트</a>
                        <ul class="dropdown drop-up">
                            <li class="">
                                <a href="/post">All</a>
                            </li>

                            <li class="">
                                <a href="/post?category=travel">Travel</a>
                            </li>

                            <li class="">
                                <a href="/post?category=extreme">Extreme</a>
                            </li>

                            <li class="">
                                <a href="/post?category=study">Study</a>
                            </li>

                            <li class="">
                                <a href="/post?category=volunteer">Volunteer</a>
                            </li>

                            <li class="">
                                <a href="/post?category=experience">Experience</a>
                            </li>

                            <li class="">
                                <a href="/post?category=etc">Etc</a>
                            </li>
                        </ul>
                    </li>

                    <li class="" id="login_li">
                        <a class="" href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#login">로그인</a>
                    </li>

                    <li class="" id="user_li">
                        <a class="" href="javascript:void(0)" id="userName">유저명</a>
                        <ul class="dropdown drop-up">
                            <li class="">
                                <a href="/post/createform">버킷리스트 작성</a>
                            </li>

                            <li class="">
                                <a href="/my">마이 피드</a>
                            </li>

                            <li class="">
                                <a id="profileHref" href="/profile">프로필</a>
                            </li>

                            <li class="">
                                <a href="#" onclick="logout(); return false;">로그아웃</a>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="main-wrapper packages-list-left-sidebar">


    <!-- Header dashboard -->
    <section class="section-top">
        <nav class="navbar navbar-expand-md navbar-light navbar-dark-light">
            <div class="container">
                <button class="navbar-toggler me-0 ms-3" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarTogglerDemo01"
                        aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="navbar-nav-right d-md-none me-6 pe-1">
                    <ul class="list-unstyled d-flex align-items-center mb-0">
                        <li class="nav-item dropdown nav-item-left">
                            <a href="#" class="nav-link" id="navbarDropdown01" data-bs-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false">
                                <i class="fa fa-bell text-gray-color icon" aria-hidden="true"></i> <span
                                    class="badge-pill bg-primary text-white">2</span>
                            </a>

                            <div class="dropdown-menu dropdown-menu-end dropdown-left">
                                <ul class="list-unstyled list-group list-group-flush">
                                    <li class="">
                                        <a href="javascript:void(0)"
                                           class="list-group-item rounded-0 border-bottom first-child">
                                            <h3 class="text-dark mb-0">Information</h3>
                                        </a>
                                    </li>

                                    <li>
                                        <a href="javascript:void(0)"
                                           class="list-group-item border-bottom border-off-white rounded-0">
                                            <h5 class="fon-size-15 text-dark">Maldive Tour Packages</h5>
                                            <small class="text-gray-color">6 Hours Ago</small>
                                        </a>
                                    </li>

                                    <li>
                                        <a href="javascript:void(0)"
                                           class="list-group-item border-bottom border-off-white rounded-0">
                                            <h5 class="fon-size-15 text-dark">London Tour Booking</h5>
                                            <small class="text-gray-color">15 Hours Ago</small>
                                        </a>
                                    </li>

                                    <li class="">
                                        <a href="javascript:void(0)"
                                           class="list-group-item border-off-white border-bottom-0 rounded-0 last-child">
                                            <h5 class="fon-size-15 text-dark">Paris Tour Booking</h5>
                                            <small class="text-gray-color">15 Hours Ago</small>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                        <li class="nav-item dropdown nav-item-left me-0">
                            <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false">
                                <img src="assets/img/dashboard/dash-user.jpg"
                                     data-src="assets/img/dashboard/dash-user.jpg" alt="Generic placeholder image"
                                     class="w-100 rounded-circle me-1 lazyestload">
                            </a>

                            <div class="dropdown-menu dropdown-menu-end dropdown-left">
                                <ul class="list-unstyled list-group list-group-flush">
                                    <li class="">
                                        <a href="profile.html"
                                           class="list-group-item rounded-0 border-bottom first-child">
                                            <h5 class="fon-size-15 text-dark">Profile</h5>
                                        </a>
                                    </li>

                                    <li>
                                        <a href="setting.html"
                                           class="list-group-item border-bottom border-off-white rounded-0">
                                            <h5 class="fon-size-15 text-dark text-capitalize">Account setting</h5>
                                        </a>
                                    </li>

                                    <li class="">
                                        <a href="javascript:void(0)"
                                           class="list-group-item border-off-white border-bottom-0 rounded-0 last-child">
                                            <h5 class="fon-size-15 text-dark">Log out</h5>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>

                <!--        <div class="collapse navbar-collapse" id="navbarTogglerDemo01">-->
                <!--          <ul class="navbar-nav me-auto">-->
                <!--            <li class="nav-item dropdown">-->
                <!--              <a class="nav-link " href="dashboard.html">-->
                <!--                <i class="fas fa-tachometer-alt" aria-hidden="true"></i>-->
                <!--                <span>Dashboard</span>-->
                <!--              </a>-->
                <!--            </li>-->

                <!--            <li class="nav-item dropdown">-->
                <!--              <a class="nav-link  active " href="profile.html">-->
                <!--                <i class="fa fa-user" aria-hidden="true"></i>-->
                <!--                <span>Profile</span>-->
                <!--              </a>-->
                <!--            </li>-->

                <!--            <li class="nav-item dropdown">-->
                <!--              <a class="nav-link " href="booking.html">-->
                <!--                <i class="fa fa-cube" aria-hidden="true"></i>-->
                <!--                <span>Booking</span>-->
                <!--              </a>-->
                <!--            </li>-->

                <!--            <li class="nav-item dropdown">-->
                <!--              <a class="nav-link " href="setting.html">-->
                <!--                <i class="fa fa-cogs" aria-hidden="true"></i>-->
                <!--                <span>Settings</span>-->
                <!--              </a>-->
                <!--            </li>-->
                <!--          </ul>-->

                <div class="navbar-nav-right d-none d-md-block">

                </div>
            </div>
        </nav>
    </section>

    <!--    &lt;!&ndash; ====================================-->
    <!--  ———	SEARCH SECTION-->
    <!--  ===================================== &ndash;&gt;-->
    <!--    <div class="bg-dark-light py-7"></div>-->
    <!--    <section class="bg-dark-light py-search" id="search-wrapper" style="display: none">-->
    <!--        <div class="container">-->
    <!--            <div class="row align-items-center">-->
    <!--                <div class="col-xl-3">-->
    <!--                    <div class="section-title-bg mb-1 mb-lg-3 mb-xl-0">-->
    <!--                        <h1 class="text-white text-uppercase mb-0">Search</h1>-->
    <!--                        <h2 class="text-white text-uppercase font-weight-bold mb-0"><span class="text-primary">bucketlist</span>-->
    <!--                        </h2>-->
    <!--                    </div>-->
    <!--                </div>-->

    <!--                <div class="col-xl-9">-->
    <!--                    <form class="" action="../index.html" method="GET">-->
    <!--                        <div class="row">-->
    <!--                            <div class="col-lg-10">-->
    <!--                                <div class="row">-->
    <!--                                    <div class="col-md-6 col-lg-3">-->
    <!--                                        <div class="select-dropdown">-->
    <!--                                            <div class="mb-3 mb-lg-0">-->
    <!--                                                <div class="select-default select-search-box">-->
    <!--                                                    <select class="select-option">-->
    <!--                                                        <option>Category</option>-->
    <!--                                                        <option>Travel</option>-->
    <!--                                                        <option>Extreme</option>-->
    <!--                                                        <option>Study</option>-->
    <!--                                                        <option>Volunteer</option>-->
    <!--                                                        <option>Experience</option>-->
    <!--                                                        <option>Etc</option>-->
    <!--                                                    </select>-->
    <!--                                                </div>-->
    <!--                                            </div>-->
    <!--                                        </div>-->
    <!--                                    </div>-->

    <!--                                    <div class="col-md-6 col-lg-3">-->
    <!--                                        <div class="mb-3 form-group-icon mb-lg-0">-->
    <!--                                            <i class="far fa-calendar-alt" aria-hidden="true"></i>-->
    <!--                                            <input type="text" class="form-control daterange-picker" autocomplete="off"-->
    <!--                                                   name="dateRange" value=""-->
    <!--                                                   placeholder="MM/DD/YYYY"/>-->
    <!--                                        </div>-->
    <!--                                    </div>-->

    <!--                                    <div class="col-md-6 col-lg-3">-->
    <!--                                        <div class="mb-3 form-group-icon mb-lg-0">-->
    <!--                                            <i class="far fa-calendar-alt" aria-hidden="true"></i>-->
    <!--                                            <input type="text" class="form-control daterange-picker" autocomplete="off"-->
    <!--                                                   name="dateRange" value=""-->
    <!--                                                   placeholder="MM/DD/YYYY"/>-->
    <!--                                        </div>-->
    <!--                                    </div>-->

    <!--                                    <div class="col-md-6 col-lg-3">-->
    <!--                                        <div class="select-dropdown">-->
    <!--                                            <div class="mb-3 mb-lg-0">-->
    <!--                                                <div class="select-default select-search-box">-->
    <!--                                                    <select class="select-option">-->
    <!--                                                        <option>$1000 - $1200</option>-->
    <!--                                                        <option>$1200 - $1400</option>-->
    <!--                                                        <option>$1400 - $1600</option>-->
    <!--                                                        <option>$1600 - $1800</option>-->
    <!--                                                    </select>-->
    <!--                                                </div>-->
    <!--                                            </div>-->
    <!--                                        </div>-->
    <!--                                    </div>-->
    <!--                                </div>-->
    <!--                            </div>-->

    <!--                            <div class="col-lg-2">-->
    <!--                                <button class="btn btn-primary text-uppercase" type="button"-->
    <!--                                        onclick="location.href='javascript:void(0)';">-->
    <!--                                    Search-->
    <!--                                </button>-->
    <!--                            </div>-->
    <!--                        </div>-->
    <!--                    </form>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </section>-->


    <!-- ====================================
    ——— PROFILE SECTION
    ===================================== -->
    <section class="py-9">
        <div class="container">
            <div class="hover-profile mb-7 mb-lg-9">
                <div class="row">
                    <div class="col-md-6 col-lg-5 col-xl-4">
                        <div class="mb-6 mb-md-0">
                            <!-- 수정 버튼 -->
                            <div class="icon-setting pb-2">
                                <a th:href="@{/api/v1/members/{memberId}/profiles (memberId=${memberId})}">
                                    <i class="fas fa-pencil-alt" aria-hidden="true"></i>
                                </a>
                            </div>
                            <!-- profile image -->
                            <img class="w-100 lazyestload" data-src="assets/img/dashboard/profile-img-01.jpg"
                                 src="assets/img/dashboard/profile-img-01.jpg" alt="Generic placeholder image">
                        </div>
                    </div>

                    <!--                    <div class="container-membr-info-table">-->
                    <!--                        <table class="board-list">-->
                    <!--                            <colgroup>-->
                    <!--                                <col width="15%"/>-->
                    <!--                                <col width="15%"/>-->
                    <!--                                <col width="15%"/>-->
                    <!--                            </colgroup>-->
                    <!--                            <thead class="thead">-->
                    <!--                            <tr>-->
                    <!--                                <th scope="col">이름</th>-->
                    <!--                                <th scope="col">이메일</th>-->
                    <!--                                <th scope="col">평점</th>-->
                    <!--                            </tr>-->
                    <!--                            </thead>-->
                    <!--                        </table>-->
                    <!--                    </div>-->

                    <div class="col-md-6 col-lg-7 col-xl-8">
                        <div class="d-flex justify-content-between align-items-baseline">
                            <div class="mb-6 mb-md-4 mb-lg-6">
                                <h2 class="text-uppercase font-weight-bold" th:text="${member.getUserName()}"></h2>
                                <!--                <p class="mb-0">CEO, D9 Studio</p>-->
                            </div>


                        </div>

                        <!--            <p class="line-height-26">Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est labor sed ut-->
                        <!--              perspiciatis unde omnis iste natus error sit voluptatem accusantium.</p>-->

                        <ul class="list-unstyled">
                            <!--              <li class="media media-profile-list">-->
                            <!--                <strong>First Name:</strong>-->

                            <!--                <div class="media-body ms-2">-->
                            <!--                  <span class="text-gray-color">Sergey</span>-->
                            <!--                </div>-->
                            <!--              </li>-->

                            <!--              <li class="media media-profile-list">-->
                            <!--                <strong>Last Name:</strong>-->

                            <!--                <div class="media-body ms-2">-->
                            <!--                  <span class="text-gray-color">Karen</span>-->
                            <!--                </div>-->
                            <!--              </li>-->

                            <!--              <li class="media media-profile-list">-->
                            <!--                <strong>Phone:</strong>-->

                            <!--                <div class="media-body ms-2">-->
                            <!--                  <a href="tel:+12512353256" class="text-gray-color hover-text-primary">(+1) 251-235-3256</a>-->
                            <!--                  <span class="text-gray-color">,</span>-->
                            <!--                  <a href="tel:+13623464367" class="text-gray-color hover-text-primary ms-md-1">(+1) 362-346-4367</a>-->
                            <!--                </div>-->
                            <!--              </li>-->

                            <!--              <li class="media media-profile-list">-->
                            <!--                <strong>Address:</strong>-->

                            <!--                <div class="media-body ms-2">-->
                            <!--                  <span class="text-gray-color">1612 Collins Street Australia - 8007</span>-->
                            <!--                </div>-->
                            <!--              </li>-->

                            <!--              <li class="media media-profile-list">-->
                            <!--                <strong>Zip Code:</strong>-->

                            <!--                <div class="media-body ms-2">-->
                            <!--                  <span class="text-gray-color">8007</span>-->
                            <!--                </div>-->
                            <!--              </li>-->

                            <!--              <li class="media media-profile-list">-->
                            <!--                <strong>Country:</strong>-->

                            <!--                <div class="media-body ms-2">-->
                            <!--                  <span class="text-gray-color">Australia</span>-->
                            <!--                </div>-->
                            <!--              </li>-->

                            <li class="media media-profile-list">
                                <strong>이메일 : </strong>

                                <div class="media-body ms-2">
                                    <p class="text-gray-color hover-text-primary"
                                       th:text="${member.getEmail()}"></p>
                                </div>
                            </li>

                            <li class="media media-profile-list">
                                <strong>평점 : </strong>

                                <div class="media-body ms-2">
                                    <p class="text-gray-color hover-text-primary" th:text="${member.getRate()}"></p>
                                </div>
                            </li>


                        </ul>

                        <!--            <ul class="list-inline d-flex mb-0">-->
                        <!--              <li class="me-3 me-lg-2 me-xl-3">-->
                        <!--                <a class="icon-default icon-light-border rounded-circle hover-bg-primary" href="javascript:void(0)">-->
                        <!--                  <i class="fab fa-facebook-f" aria-hidden="true"></i>-->
                        <!--                </a>-->
                        <!--              </li>-->

                        <!--              <li class="me-3 me-lg-2 me-xl-3">-->
                        <!--                <a class="icon-default icon-light-border rounded-circle hover-bg-primary" href="javascript:void(0)">-->
                        <!--                  <i class="fab fa-twitter" aria-hidden="true"></i>-->
                        <!--                </a>-->
                        <!--              </li>-->
                        <!--              <li class="me-3 me-lg-2 me-xl-3">-->
                        <!--                <a class="icon-default icon-light-border rounded-circle hover-bg-primary" href="javascript:void(0)">-->
                        <!--                  <i class="fas fa-rss" aria-hidden="true"></i>-->
                        <!--                </a>-->
                        <!--              </li>-->

                        <!--              <li class="">-->
                        <!--                <a class="icon-default icon-light-border rounded-circle hover-bg-primary" href="javascript:void(0)">-->
                        <!--                  <i class="fab fa-vimeo-v" aria-hidden="true"></i>-->
                        <!--                </a>-->
                        <!--              </li>-->
                        <!--            </ul>-->
                    </div>
                </div>
            </div>

            <!-- Contact Section -->
            <div class="bg-smoke p-2 mb-7 mb-lg-9" style="height: 470px">
                <div class="mb-7 mb-lg-9 h-100">
                    <h3 class="text-uppercase font-weight-bold mb-4">리뷰</h3>
                    <p class="line-height-26 mb-0">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
                        eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
                        nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                        dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                        sintoccaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est
                        laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem</p>
                </div>
            </div>
        </div>
    </section>


</div><!-- element wrapper ends -->

<!-- ====================================
——— FOOTER SECTION
===================================== -->
<footer class="footer">
    <div class="footer-bg-color py-1">
        <div class="container">
            <div class="mb-0 mt-1 mb-lg-0 mx-5">
                <a class="d-inline-block" href="/">
                    <img class="w-100 mb-6 lazyestload" data-src="/assets/img/logo-color-sm.png"
                         src="/assets/img/logo-color-sm.png" alt="img">
                </a>
                <p class="mb-0">
                    WEB(We arE Best) : 고관운, 배지원, 박은빈, 변지환, 정재현, 최수정 |
                    프로젝트 깃랩 : <a class="text-secondary" href="https://gitlab.com/S2uJeong1/bucketlist" target="_blank">gitlab</a> |
                    프로젝트 노션 : <a class="text-secondary" href="https://ringed-suggestion-46f.notion.site/ceff928e9f1f4e2482f07387b997f593" target="_blank">notion</a>
                </p>
                <p class="mt-2">
                    버킷리스트를 주제로 모임을 개설할 수 있도록 도와주는 사이트입니다.
                </p>
            </div>
        </div>
    </div>

    <!-- 저작권 표시 -->
    <div class="copyright py-1">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 order-1 order-md-0">
                    <p class="mb-0 mb-md-0 text-md-start">Copyright &copy; <span id="copy-year"></span> All Rights
                        Reserved by
                        <a class="text-secondary" href="http://www.iamabdus.com/" target="_blank">Abdus</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script>
        var d = new Date();
        var year = d.getFullYear();
        document.getElementById("copy-year").innerHTML = year;
    </script>


<!-- ====================================
——— MODAL SECTION
===================================== -->
<!-- Signup Modal -->
<div class="modal fade" id="signup" tabindex="-1" role="dialog" aria-label="signupModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header rounded">
                <h3 class="modal-title text-uppercase font-weight-bold">회원가입</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form onsubmit="join(); return false;">
                    <div class="mb-3">
                        <div class="mb-3" style="display: flex">
                            <input type="text" id="form_userName" class="form-control bg-smoke height-50" required="" placeholder="닉네임">
                            <button class="btn btn-facebook btn-block text-uppercase text-white" onclick="checkUserName()" style="width: 25%; padding: 0">중복확인</button>
                        </div>
                        <p id="able_userName" style="display: none">사용 가능한 닉네임 입니다.</p>
                        <p id="error_userName" style="display: none">중복되는 닉네임 입니다.</p>
                    </div>

                    <div class="mb-3">
                        <input type="password" id="pw" class="form-control bg-smoke height-50" required="" placeholder="비밀번호">
                        <input type="password" id="check_pw" onchange="checkPasswordCorrect()" class="form-control bg-smoke height-50" required="" placeholder="비밀번호 확인">
                        <p id="error_passwordCorrect" style="display: none">일치하지 않습니다.</p>
                    </div>

                    <div class="mb-3">
                        <select id="form_gender" class="form-control bg-smoke height-50">
                            <option value="">성별</option>
                            <option value="MAN">남자</option>
                            <option value="WOMAN">여자</option>
                        </select>
                        <p id="error_gender" style="display: none">성별을 선택 해주세요.</p>
                    </div>

                    <div class="mb-3">
                        <input type="number" id="age" class="form-control bg-smoke height-50" required="" placeholder="나이">
                    </div>

                    <div class="mb-3">
                        <div style="display: flex">
                            <input style="flex: auto;" type="email" class="form-control bg-smoke height-50" required="" placeholder="이메일" id="form_email">
                            <button class="btn btn-facebook btn-block text-uppercase text-white" onclick="checkEmail()" style="width: 25%; padding: 0">인증요청</button>
                        </div>
                        <p id="error_email" style="display: none">중복된 이메일 입니다.</p>
                        <p id="send_email" style="display: none">입력하신 이메일로 인증 코드를 전송하였습니다.</p>
                        <input type="emailCheck" id="code" class="form-control bg-smoke height-50" required="" placeholder="인증번호">
                        <p id="error_code" style="display: none">인증 코드가 불일치 합니다.</p>

                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-block text-uppercase">가입하기</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Login Modal -->
<div class="modal fade" id="login" tabindex="-1" role="dialog" aria-label="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header rounded">
                <h3 class="modal-title text-uppercase font-weight-bold">로그인</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form class="" onsubmit="return false;">
                    <div class="mb-3">
                        <input type="email" id="email" class="form-control bg-smoke height-50" required="" placeholder="이메일">
                    </div>

                    <div class="mb-3">
                        <input type="password" id="password" class="form-control bg-smoke height-50" required="" placeholder="비밀번호">
                    </div>

                    <!--              <div class="mb-3 form-check mb-0">-->
                    <!--                <input type="checkbox" class="form-check-input" id="exampleCheck5">-->
                    <!--                <label class="form-check-label text-gray-color mb-3" for="exampleCheck5">-->
                    <!--                  Remember me-->
                    <!--                </label>-->
                    <!--                <a class="pull-right" href="javascript:void(0)">Fogot Password?</a>-->
                    <!--             </div>-->
                    <p id="login_error" style="display: none"></p>
                    <div class="d-grid">
                        <button class="btn btn-primary text-uppercase" onclick="login(); return false;">Login</button>
                    </div>

                    <div class="text-uppercase text-center py-3">Or</div>

                    <div style="display: flex;">
                        <div style="flex: 1;">
                            <a href="/login/google"><img src="/assets/img/google-button.png" style="width: 95%; margin-left: 5%"></a>
                        </div>
                        <div style="flex: 1;">
                            <a href="/login/naver"><img src="/assets/img/naver-button.png" style="width: 85%; float: right; margin-right: 10%"></a>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer justify-content-center">
                <p class="mb-1">Don’t have an Account? <a href="javascript:void(0)" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#signup">Sign up</a></p>
            </div>
        </div>
    </div>
</div>

<!-- MemberReview Modal -->
<div class="modal fade" id="memberReview" tabindex="-1" role="dialog" aria-label="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header rounded">
                <h3 class="modal-title text-uppercase font-weight-bold">멤버 리뷰</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <div class="text-uppercase pb-3">멤버 : <span id="memberReview_id">4</span></div>

                <form onsubmit="memberReviewSave(); return false;">
                    <div class="mb-3">
                        <input type="number" id="memberRate" class="form-control bg-smoke" required="" placeholder="0~10" min="0" max="10">
                    </div>

                    <div class="mb-3">
                        <textarea id="memberReviewContent" class="form-control bg-smoke" required="" rows="5" placeholder="리뷰 내용"></textarea>
                        <div id="memberReviewContent_cnt">(0 / 100)</div>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary text-uppercase">제출</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- bucketReview Modal -->
<div class="modal fade" id="bucketReview" tabindex="-1" role="dialog" aria-label="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header rounded">
                <h3 class="modal-title text-uppercase font-weight-bold">버킷리스트 리뷰</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <input id="memberReview_alarmId" type="hidden" value="">
                <div class="text-uppercase pb-3">버킷리스트 : <span id="bucketReview_id" style="display: none;">3</span><span id="bucketReview_name">3번 버킷리스트명</span></div>

                <form onsubmit="bucketReviewSave(); return false;">
                    <div class="mb-3">
                        <input type="number" id="bucketRate" class="form-control bg-smoke" required="" placeholder="0~10" min="0" max="10">
                    </div>

                    <div class="mb-3">
                        <textarea id="bucketReviewContent" class="form-control bg-smoke" required="" rows="5" placeholder="리뷰 내용"></textarea>
                        <div id="bucketReviewContent_cnt">(0 / 100)</div>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary text-uppercase">제출</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- INQUIRY IN MODAL -->
<div class="modal fade" id="inquiry" tabindex="-1" role="dialog" aria-label="inquiryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header rounded">
                <h3 class="modal-title text-uppercase font-weight-bold">Inquiry about tour</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body pb-3">
                <input id="bucketReview_alarmId" type="hidden" value="">
                <form class="" action="index.html" method="post">
                    <div class="mb-3">
                        <input type="text" class="form-control bg-smoke" required="" placeholder="Your Name">
                    </div>

                    <div class="mb-3">
                        <input type="email" class="form-control bg-smoke" required="" placeholder="Your Email">
                    </div>

                    <div class="mb-3">
                        <input type="number" class="form-control bg-smoke" required="" placeholder="Phone Number">
                    </div>

                    <div class="mb-3">
                        <textarea class="form-control bg-smoke" rows="6" placeholder="Message"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary text-uppercase">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Javascript -->
<script src="/assets/plugins/jquery/jquery-3.4.1.min.js"></script>
<script src="/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/plugins/menuzord/js/menuzord.js"></script>

<script src='/assets/plugins/isotope/isotope.min.js'></script>
<script src='/assets/plugins/fancybox/jquery.fancybox.min.js'></script>

<script src='/assets/plugins/selectric/jquery.selectric.min.js'></script>
<script src='/assets/plugins/daterangepicker/js/moment.min.js'></script>
<script src='/assets/plugins/daterangepicker/js/daterangepicker.min.js'></script>

<script src="/assets/plugins/lazyestload/lazyestload.js"></script>
<script src='/assets/plugins/dzsparallaxer/dzsparallaxer.js'></script>


<script src='/assets/plugins/revolution/js/jquery.themepunch.tools.min.js'></script>
<script src='/assets/plugins/revolution/js/jquery.themepunch.revolution.min.js'></script>
<script src="/assets/plugins/smoothscroll/SmoothScroll.js"></script>

<script src="/assets/js/star.js"></script>

<script src="/assets/js/custom.js"></script>

</body>

<script>
    window.onload = function () {
        const accessToken = localStorage.getItem("accessToken");

        if (accessToken === null) {
            $("#login_li").show();
            $("#user_li").hide();
        } else {
            $("#login_li").hide();
            $("#user_li").show();

            const payload = accessToken.split('.')[1];
            let userName = JSON.parse(atob(payload)).userName;
            document.getElementById("userName").innerText = userName;
        }

    };
</script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
    function click() {
        axios.get('/click')
            .then((res) => {
            })
            .catch((err) => {
            })
    }

    function logout() {
        localStorage.clear();
        window.location.href = '/';
        // return axios.post('/logout')
        //         .then((res) => {
        //           localStorage.clear();
        //           window.location.href = '/';
        //         })
    }

    function login() {

        let email = document.getElementById('email').value;
        let pw = document.getElementById('password').value;

        return fetch('/api/v1/login', {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Accept": "application/json"
            },
            body: JSON.stringify({
                email: email,
                password: pw,
            })
        })
            .then(response => {
                return response.json();
            })
            .then(json => {
                localStorage.setItem("accessToken", json.result.accessToken);
                window.location.href = '/';
            })
            .catch(err => {
            })
    }

    axios.interceptors.request.use(function (config) {
        const accessToken = localStorage.getItem('accessToken');
        if (accessToken) {
            config.headers.Authorization = 'Bearer' + ' ' + accessToken
        }
        return config;
    })

    axios.interceptors.response.use(
        success => success,
        async (error) => {
            const status = error.response.status

            if (status === 401) {
                const originRequest = error.config

                await axios.post('/api/v1/login/reissue')
                    .then(response => {
                        localStorage.setItem("accessToken", response.data);
                        originRequest.headers.authorization = 'Bearer ' + response.data;
                        return axios(originRequest);
                    })
                    .catch(error => {
                        localStorage.removeItem('accessToken')
                        window.location.href = '/';
                    })
                return Promise.reject(error)
            }
        }
    )
</script>

<!--테이블 형식으로 이름, 이메일, 평점 가져 오려고 만들었던 로직-->
<!--<script>-->
<!--    $(function () {-->
<!--        axios.get('/profile/', { // /profile/{memberId} 형식은 어떻게 가져오는가?-->
<!--        })-->
<!--            .then(function (response) {-->
<!--                let tb = $("<tbody/>");-->
<!--                console.log(response)-->
<!--                for (var i in response.data) {-->
<!--                    console.log(response.data)-->

<!--                    let $memberName = response.data[i].name-->
<!--                    let $memberEmail = response.data[i].email-->
<!--                    let $rate = response.data[i].rate-->

<!--                    var row = $("<tr/>").append(-->
<!--                        '<td>' + $memberName + '</td>' +-->
<!--                        '<td>' + $memberEmail + '</td>' +-->
<!--                        '<td>' + $rate + '</td>'-->
<!--                    )-->
<!--                    tb.append(row);-->
<!--                }-->
<!--                $(".thad").after(tb);-->
<!--            })-->
<!--            .catch(function (error) {-->
<!--                console.log(error);-->
<!--            })-->
<!--            .finally(function () {-->
<!--                // 항상 실행 되어야 할 부분-->
<!--            });-->
<!--    })-->

<!--얘들은 왜 있는거지?-->
<!--    // function click() {-->
<!--    //     console.log('click');-->
<!--    //     axios.get('/click')-->
<!--    //         .then((res) => {-->
<!--    //             console.log(res.data);-->
<!--    //         })-->
<!--    //         .catch((err) => {-->
<!--    //             -->
<!--    //         })-->
<!--    // }-->
<!--</script>-->

</html>

